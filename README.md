# HW1 PostgreSQL+Python (описание ниже)
## SQL схема
<p align="center">
  <img src="https://github.com/user-attachments/assets/60eeb303-f41b-4a76-8699-39235b966f0a" alt="image">
</p>

## Описание
- Работа выполнялась с использованием языка Python и сопутствующих библиотек для работы с PostgreSQL, csv-файлами, данными, SQL. Для наглядности результаты представлены также в программной оболочке DBeaver.
- Изначально таблицы БД находились в 1НФ:
  - Все атрибуты простые;
  - Все сохраняемые данные на пересечении столбцов и строк содержат только скалярные значения.
- Для перехода к 2НФ и 3НФ необходимо, чтобы в каждой таблицы был уникальный ключевой атрибут, а все остальные зависели только от него. Отсутствие возможной транзитивности. Например, выделить атрибут product_id в отдельную таблицу с другими атрибутами. При проведении транзакции мы обращаемся по product_id и получаем информацию характерную для продукта. (Почему list_price вынесен отдельно и находится в transaction? - Предполагается, что это является результатом некой бизнес-логики, в которой берётся себестоимость продукта и по определённым правилам представляется уже ценой в транзакции).
- Отдельно вынесено финансовое положение (один к одному), предполагается, что у одного покупателя может быть одно финансовое положение (индикатор смерт). Возможное улучшение - "разнести" для каждого покупателя финансовое положение во времени (в направлении к 6НФ). Адреса выделены отдельно со связью (один ко многим). Это даёт возможность добавления нового функционала - пользователь теперь может добавлять несколько адресов, которые могут использовать сторонние сервисы - например, доставка.
  - Особенности выполнения: в процессе анализа и разделения потенциальных таблиц возникла потребность в создании или обновлении ключевых атрибутов, чтобы они обладали уникальностью и не теряли связность после разделения. Для этой цели написал простую функцию хеширования (алгоритм sha256), позволяющая выделить все уникальные записи (потенциальной таблицы) и создать для них ключевой атрибут в виде индекса.

## Результат

<p align="center">
  <img src="https://github.com/user-attachments/assets/075f402d-f973-4778-8bb3-41fef2f30ba5" alt="image">
</p>
<p align="center">
  <img src="https://github.com/user-attachments/assets/0e4ea7c4-e27d-4129-ae70-7172bb8ce7ae" alt="image">
</p>
<p align="center">
  <img src="https://github.com/user-attachments/assets/9e886ef2-4596-4be4-87e0-a574b17d4bf9" alt="image">
</p>
<p align="center">
  <img src="https://github.com/user-attachments/assets/a9ffbc7f-afcd-40c4-ba2b-e4fcce4d58af" alt="image">
</p>
<p align="center">
  <img src="https://github.com/user-attachments/assets/68176448-3a46-42ca-8e32-a4caa3e8f17b" alt="image">
</p>


